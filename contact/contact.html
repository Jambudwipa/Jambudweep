<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jambudweep | Contact</title>
    <link rel="icon" type="image/x-icon" href="../images/footer-logo.png">
    <link rel="stylesheet" href="contact.css">
</head>

<body>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const hambMenu = document.querySelector(".hamb-menu");
            const dropdownContent = document.querySelector(".topnav-dropdown-content");
            const logo = document.querySelector(".navbar-logo");
            const dropdownClose = document.querySelector(".topnav-dropdown-close");
            const servicesSection = document.querySelector(".arrow-svg");
            const dropdownServicesContent = document.querySelector(".dropdown-services-content");
            const arrowPath = servicesSection.querySelector("path");
            const serviceHeading = servicesSection.nextElementSibling;

            serviceHeading.addEventListener("click", function (event) {
                event.stopPropagation();
                toggleDropdownServices();
                if (dropdownServicesContent.style.display === "block") {
                    arrowPath.style.fill = "#FE5C24";
                    serviceHeading.style.color = "#FE5C24";
                } else {
                    arrowPath.style.fill = "#353535";
                    serviceHeading.style.color = "black";
                }
            });

            hambMenu.addEventListener("click", function () {
                toggleDropdown();
            });

            dropdownClose.addEventListener("click", function () {
                toggleDropdown();
            });

            servicesSection.addEventListener("click", function (event) {
                event.stopPropagation();
                toggleDropdownServices();
                if (dropdownServicesContent.style.display === "block") {
                    arrowPath.style.fill = "#FE5C24";
                    serviceHeading.style.color = "#FE5C24";
                } else {
                    arrowPath.style.fill = "#353535";
                    serviceHeading.style.color = "black";
                }
            });

            function toggleDropdown() {
                if (dropdownContent.style.display === "block") {
                    dropdownContent.style.display = "none";
                    logo.style.display = "block";
                    hambMenu.style.marginTop = "-7.5%";
                } else {
                    dropdownContent.style.display = "block";
                    logo.style.display = "none";
                    hambMenu.style.marginTop = "0";
                    dropdownServicesContent.style.display = "none";
                    arrowPath.style.fill = "#353535";
                    serviceHeading.style.color = "black";
                }
            }

            function toggleDropdownServices() {
                if (dropdownServicesContent.style.display === "block") {
                    dropdownServicesContent.style.display = "none";
                    arrowPath.style.fill = "#353535";
                    serviceHeading.style.color = "black";
                } else {
                    dropdownServicesContent.style.display = "block";
                    arrowPath.style.fill = "#FE5C24";
                    serviceHeading.style.color = "#FE5C24";
                }
            }

            document.addEventListener("click", function (event) {
                if (
                    dropdownContent.style.display === "block" &&
                    !dropdownContent.contains(event.target) &&
                    event.target !== hambMenu
                ) {
                    toggleDropdown();
                }

                if (
                    dropdownServicesContent.style.display === "block" &&
                    !dropdownServicesContent.contains(event.target) &&
                    event.target !== servicesSection &&
                    event.target !== serviceHeading
                ) {
                    toggleDropdownServices();
                }
            });
        });
    </script>
    <div class="topnav">
        <a href="../index.html#home"><img src="../images/logo.png" class="navbar-logo"></a>
        <img class="hamb-menu" src="../images/three-dots.png">
        <div class="topnav-dropdown-content">
            <img class="topnav-dropdown-close" src="../images/cross.svg">
            <a style="margin-top: 3.5rem;" href="../index.html#home">Home</a>
            <a href="../index.html#about">About</a>
            <div style="display: flex; justify-content: end; align-items: center;">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    class="arrow-svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M6.99997 9C6.80222 9.00004 6.60892 9.05871 6.44451 9.1686C6.2801 9.27848 6.15196 9.43465 6.07629 9.61735C6.00062 9.80005 5.98082 10.0011 6.01939 10.195C6.05795 10.389 6.15316 10.5671 6.29297 10.707L11.293 15.707C11.4805 15.8945 11.7348 15.9998 12 15.9998C12.2651 15.9998 12.5194 15.8945 12.707 15.707L17.707 10.707C17.8468 10.5671 17.942 10.389 17.9806 10.195C18.0191 10.0011 17.9993 9.80005 17.9236 9.61735C17.848 9.43465 17.7198 9.27848 17.5554 9.1686C17.391 9.05871 17.1977 9.00004 17 9H6.99997Z"
                        fill="#353535" />
                </svg>
                <div style="margin: 0.5rem; margin-right: 1rem;">Services</div>
            </div>
            <div class="dropdown-services-content" style="display: none; background: rgba(254, 92, 36, 0.15);">
                <a href="./elections/elections.html">Election</a>
                <a href="./publicPolicy/publicPolicy.html">Public Policy</a>
                <a href="./analytics/analytics.html">Analytics</a>
                <a href="./communication/communication.html">Communication</a>
            </div>
            <a href="../index.html#contact" style="margin-bottom: 2.5rem;">Contact</a>
        </div>
    </div>
    <section class="contact">
        <h1 class="contact-form-title">Let's get in contact!</h1>
        <form action="https://formspree.io/f/xrgwozgz" method="POST" novalidate="novalidate">
            <div class="form-group">
                <label for="name" style="margin-right: 3.4rem;">Name:*</label>
                <input type="text" id="name" name="Name" style="background-image: url(../images/name.svg);" required>
                </input>
            </div>
            <div class="form-group">
                <label for="email" style="margin-right: 3.4rem;">Email:*</label>
                <input type="email" id="email" name="Email" style="background-image: url(../images/email.svg);"
                    required></input>
            </div>
            <div id="email-error" class="error-message" style="color: red;"></div>

            <div class="form-group">
                <label for="phoneNumber" style="margin-right: 1rem;">Phone No.:*</label>
                <input type="number" id="phoneNumber" name="PhoneNumber"
                    style="background-image: url(../images/phone.svg);" required></input>
            </div>

            <div class="form-group">
                <label for="message" style="margin-right: 1.6rem;">Message:*</label>
                <textarea type="text" id="message" name="Message" rows="4"
                    style="margin-top: 1rem; background-image: url(../images/message.svg);" required></textarea>
                <div class="alphabet-count"><span id="alphabet-count">0</span> / 250</div>
            </div>

            <div id="error" class="error-message"></div>

            <div class="form-group" style="margin-top: 1rem;">
                <button class="form-button" type="submit" id="submitButton">Submit</button>
            </div>
            <script>
                const textarea = document.getElementById('message');
                const alphabetCount = document.getElementById('alphabet-count');
                const maxAlphabets = 250;

                textarea.addEventListener('input', function () {
                    const text = textarea.value;
                    const alphabetCountValue = text.replace(/[^a-zA-Z]/g, '').length;

                    if (alphabetCountValue <= maxAlphabets) {
                        alphabetCount.textContent = alphabetCountValue;
                    } else {
                        const truncatedText = text.replace(/[^a-zA-Z]/g, '').slice(0, maxAlphabets);
                        textarea.value = truncatedText;
                        alphabetCount.textContent = maxAlphabets;
                    }
                });
            </script>
        </form>
    </section>
</body>

</html>